<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div id="btn">以建很帅</div>
    <script>
        /* 
            this就是js中的关键字，有特殊的意义，
            this：他就是函数的执行主体，谁执行的函数，this就是谁

            1、在全局作用域下，this是window
            2、在函数里，看函数执行前有没有点，如果有点，那点前面是谁，函数里的this就是谁，如果没有点，那函数里的this就是window
            3、自执行函数里的this是window
            4、给元素的事件行为绑定办法，那方法里的this就是当前元素本身
            5、回调函数里的this一般情况下是window
         */

        //  1、在全局作用域下，this是window
        // console.log(this === window); // true
        // window.a = 12;
        // console.log(this.a); // 12

        // 2、在函数里，看函数执行前有没有点，如果有点，那点前面是谁，函数里的this就是谁，如果没有点，那函数里的this就是window

        // function fn(){
        //     console.log(this); // window

        // }
        // fn()

        // let obj = {
        //     fn:function(){
        //         console.log(this);

        //     }
        // }

        // // obj.fn() // this就是obj
        // let f = obj.fn;
        // f() // this就是window

        // 3、自执行函数里的this是window
        // (function(){
        //     console.log(this); // window

        // })()

        // 4、给元素的事件行为绑定办法，那方法里的this就是当前元素本身
        // btn.onclick = function(){
        //     console.log(this); // 当前元素   
        // }

        // 5、回调函数里的this一般情况下是window
        // 函数执行的时候传递函数，

        // function fn(f){
        //     // console.log(f);
        //     f()

        // }
        // fn(function(){console.log(111);
        // })

        // setTimeout(function(){
        //     console.log(this); // window

        // },1000)

        // let ary = [1,2];
        // ary.forEach(function(item,index){
        //     console.log(this);

        // })

        // setTimeout(function(){
        //     console.log(this);

        // },1000)

        // function fn(f){
        //     // console.log(f);
        //     f()

        // }
        // fn(function(){
        //     console.log(this);

        // })


        // var num = 100;
        // var obj = {
        //     num: 2,
        //     fn: function () {

        //         var num = 1;
        //         console.log(this); // window
        //         (function (num) { // 100

        //             console.log(this.num + num); //100 + 100
        //         })(this.num);
        //     }
        // }
        // obj.fn(); // obj   102
        // var f = obj.fn;
        // f() // window 200




        var num = 1; //  1 2
        var obj = {
            num: 0, // 
            fn: function () {
                
                num = 1;
                (function (num) {  // 
                    /* 
                    num = 0 1
                     */
                    ++this.num; //++ window.num
                    num++;
                    console.log(num) // 1
                })(this.num) // obj.num 0
            }
        }
        obj.fn(); // 1
        console.log(window.num, obj.num); // 2 0
        // 





    </script>
</body>

</html>